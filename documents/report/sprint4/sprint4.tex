In this chapter the planning and work-flow regarding Sprint 4 will be described. 
Everything from setting our goals to implementation and testing. At the end the team will evaluate the whole sprint and try on answer the following questions: What went well? What could be improved? 
\section{Sprint planning}

The customer was very satisfied with the demonstration video for sprint 3. 
The team with the customer planned how to take the project further. 
At this point it was possible to send control signals to multiple clients, and then detect the devices that lit up. 
It was decided that the plan for this sprint was to combine those two modules, and try to display a short animation.
This meant that detection of clients' locations must be performed and than connecting its position in a grid with an appropriate socket linked with client.

After this detection, a commands to all clients must be continuously send with information, what colors should they lit.
To be more efficient and do not use too much traffic, which could result into delays on network, it was proposed by customer that video should be preprocessed and large chunks of data with timing should be send to clients.

After detection the signal should make the first client light up red, and make the second one light up yellow, and then make the last one light up green. 
Since the main goal was to make the mobile screens create an image, the order of the different colors was be imporant. The team had to plan for making specific devices to light up specific colors at spesific positions. 
A traffic light was a good start for focusing on this part of the assignment, and the customer agreed. 
For sprint 4, the plan was to first map all available devices to grid, and then link the devices location with their ids, and then make the clients create a traffic light.


All implementation related stories for sprint 4 are presented in table \ref{tab:sprint4stories}.
\input{sprint4/stories.tex}


In sprint 4 the team also planned to work more on the report. 
The plan was to finish sprint 3, since that sprint itself finished the week before. 
It was also wanted to start working on sprint 4 in report. 
Since it was implemented detection of devices, and it was planned to link their location to their ids, it was decided that it was imporant to add more information about the software architecture as well. 
The team where also getting a better understanding of what the end product would look like, therefore it was planned to start working a little bit on the evaluation as well. 
The supervisor also came up with some suggestions for small improvements on the report, which the team planned to follow up.
Also it was decided to make to the user stories more consistent. 
It was also planned to separate the implementation stories from the documentation, and the project management stories.

All the documentation related stories for sprint 4 are presented in table \ref{tab:sprint4Documentationstories}.
\input{sprint4/storiesDocumentation.tex}

All the project management related stories for sprint 4 are presented in table \ref{tab:sprint4storiesProcess}.
\input{sprint4/storiesProcess.tex}

% hous all in total: Estimated: 130 + 65 + 42 = 237  Spent: 136+ 36+35= 207

\subsection{Duration}
This sprint is 2 weeks long. From 14th of October 2013 to 27th of October 2013. We agreed
on the date of presentation and showing the running demo â€“ on Thursday 25th of October 2013.
Estimated velocity is 240 hours since we agreed on 30 working hours per person per week.

\section{Preliminary studies}
% TODO
\section{Sprint goal}

The goal for sprint 4 is to link the devices location with their ids, and then make the clients create a traffic light together. 
\begin{figure}[H]
	\centering
		\includegraphics[width=10cm]{sprint4/trafficlight.png}
	\caption{Traffic Light}
	\label{fig:trafficlight}
\end{figure}

\section{System Burndown}

\section{Architecture}
\section{Implementation}
\begin{figure}[H]
	\centering
		\includegraphics[width=18cm]{sprint4/BurndownSprint4.png}
	\caption{Burn down chart.}
	\label{fig:Burn4 }
\end{figure}
\section{Testing}
\section{Occurring risks}
\section{Customer feedback}
\section{Retrospective}
This section reflects on the past sprint. In order to learn from the mistakes done and thus to improve the workflow it is necessary to answer two essential questions: "What went well" and "What could be improved".

\subsection{What went well}
\subsection{What could be improved}
